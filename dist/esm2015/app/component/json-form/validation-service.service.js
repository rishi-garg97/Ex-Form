import * as tslib_1 from "tslib";
import { Injectable } from "@angular/core";
import { FormBuilder } from "@angular/forms";
import { Validators } from "@angular/forms";
import { HttpClient } from "@angular/common/http";
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/common/http";
let ValidationServiceService = class ValidationServiceService {
    constructor(formBuilder, http) {
        this.formBuilder = formBuilder;
        this.http = http;
        this.schema = this.http.get(`url: "get ../../../assets/schema.json"`);
        this.buildForm = () => {
            const allControl = {};
            let validators = [];
            this.schema.forEach((element) => {
                //  Assign Validator to all form Control
                validators = [];
                if (element.required) {
                    validators.push(Validators.required);
                }
                if (element.dataType === "String") {
                    validators.push(Validators.minLength(element.minLength));
                    validators.push(Validators.maxLength(element.maxLength));
                    validators.push(Validators.pattern(element.pattern));
                }
                if ((element.dataType === "Number" || element.dataType === "Measure")) {
                    validators.push(Validators.max(element.max));
                    validators.push(Validators.min(element.min));
                }
                if (element.dataType === "Measure") {
                    validators = [];
                    let unitvalue = "";
                    if (element.units.length === 1) {
                        unitvalue = element.units[0];
                    }
                    if (element.required) {
                        validators = [Validators.required, Validators.min(element.min), Validators.max(element.max)];
                    }
                    allControl[element.name] = this.formBuilder.group({
                        in: ["", validators],
                        unit: [{ value: unitvalue, disabled: true }, Validators.required]
                    });
                }
                else {
                    allControl[element.name] = ["", validators];
                }
            });
            return this.formBuilder.group(allControl);
        };
    }
    getErrorMessage(control) {
        let msg = "";
        if (control.hasError("required")) {
            msg = "This Field is required";
        }
        else if (control.hasError("pattern")) {
            msg = "This field contain only character value.";
        }
        else if (control.hasError("minlength")) {
            msg = "This field require minimum " + control.errors.minlength.requiredLength + " characters";
        }
        else if (control.hasError("maxlength")) {
            msg = "This field has maximum " + control.errors.maxlength.requiredLength + " characters";
        }
        else if (control.hasError("min")) {
            msg = "This field required minimum value " + control.errors.min.min;
        }
        else if (control.hasError("max")) {
            msg = "This field has maximum value " + control.errors.max.max;
        }
        return msg;
    }
    enableUnit(field, myForm) {
        if (myForm.get(field.name).value.in && (field.units.length > 1)) {
            myForm.get(field.name).controls.unit.enable();
        }
        else {
            if (field.units.length > 1) {
                myForm.get(field.name).controls.unit.reset();
            }
            myForm.get(field.name).controls.unit.disable();
        }
    }
};
ValidationServiceService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function ValidationServiceService_Factory() { return new ValidationServiceService(i0.ɵɵinject(i1.FormBuilder), i0.ɵɵinject(i2.HttpClient)); }, token: ValidationServiceService, providedIn: "root" });
ValidationServiceService = tslib_1.__decorate([
    Injectable({
        providedIn: "root"
    }),
    tslib_1.__metadata("design:paramtypes", [FormBuilder, HttpClient])
], ValidationServiceService);
export { ValidationServiceService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGlvbi1zZXJ2aWNlLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLWpzb24tZm9ybS8iLCJzb3VyY2VzIjpbImFwcC9jb21wb25lbnQvanNvbi1mb3JtL3ZhbGlkYXRpb24tc2VydmljZS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLHNCQUFzQixDQUFDOzs7O0FBTWhELElBQWEsd0JBQXdCLEdBQXJDLE1BQWEsd0JBQXdCO0lBSW5DLFlBQW9CLFdBQXdCLEVBQVUsSUFBZ0I7UUFBbEQsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFBVSxTQUFJLEdBQUosSUFBSSxDQUFZO1FBRnRFLFdBQU0sR0FBUSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDO1FBdUM5RCxjQUFTLEdBQUcsR0FBRyxFQUFFO1lBQ2YsTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztZQUNwQixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUV0Qix3Q0FBd0M7Z0JBQ3hDLFVBQVUsR0FBRyxFQUFFLENBQUM7Z0JBRWhCLElBQUssT0FBTyxDQUFDLFFBQVEsRUFBRTtvQkFDckIsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7aUJBQ3RDO2dCQUNELElBQUksT0FBTyxDQUFDLFFBQVEsS0FBSyxRQUFRLEVBQUU7b0JBQ2pDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxP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QUFDLEdBQUcsQ0FBQztTQUNyRTthQUFNLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNsQyxHQUFHLEdBQUcsK0JBQStCLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1NBQ2hFO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBR0QsVUFBVSxDQUFDLEtBQUssRUFBRSxNQUFNO1FBQ3RCLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQy9ELE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7U0FFL0M7YUFBTTtZQUNDLElBQUssS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUM5QixNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO2FBQzlDO1lBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN0RDtJQUNILENBQUM7Q0E4Q1YsQ0FBQTs7QUFyRlksd0JBQXdCO0lBSnBDLFVBQVUsQ0FBQztRQUNWLFVBQVUsRUFBRSxNQUFNO0tBQ25CLENBQUM7NkNBTWlDLFdBQVcsRUFBZ0IsVUFBVTtHQUozRCx3QkFBd0IsQ0FxRnBDO1NBckZZLHdCQUF3QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgRm9ybUJ1aWxkZXIgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcbmltcG9ydCB7IFZhbGlkYXRvcnMgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcbmltcG9ydCB7SHR0cENsaWVudH0gZnJvbSBcIkBhbmd1bGFyL2NvbW1vbi9odHRwXCI7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogXCJyb290XCJcbn0pXG5cbmV4cG9ydCBjbGFzcyBWYWxpZGF0aW9uU2VydmljZVNlcnZpY2Uge1xuXG4gIHNjaGVtYTogYW55ID0gdGhpcy5odHRwLmdldChgdXJsOiBcImdldCAuLi8uLi8uLi9hc3NldHMvc2NoZW1hLmpzb25cImApO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZm9ybUJ1aWxkZXI6IEZvcm1CdWlsZGVyLCBwcml2YXRlIGh0dHA6IEh0dHBDbGllbnQpIHsgfVxuXG5cbiAgICAgICAgICBnZXRFcnJvck1lc3NhZ2UoY29udHJvbCkge1xuXG5cbiAgICAgICAgICAgIGxldCBtc2cgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAoY29udHJvbC5oYXNFcnJvcihcInJlcXVpcmVkXCIpKSB7XG4gICAgICAgICAgICAgIG1zZyA9ICBcIlRoaXMgRmllbGQgaXMgcmVxdWlyZWRcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbC5oYXNFcnJvcihcInBhdHRlcm5cIikpIHtcbiAgICAgICAgICAgICAgbXNnID0gXCJUaGlzIGZpZWxkIGNvbnRhaW4gb25seSBjaGFyYWN0ZXIgdmFsdWUuXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2wuaGFzRXJyb3IoXCJtaW5sZW5ndGhcIikpIHtcbiAgICAgICAgICAgICAgbXNnID0gXCJUaGlzIGZpZWxkIHJlcXVpcmUgbWluaW11bSBcIiArIGNvbnRyb2wuZXJyb3JzLm1pbmxlbmd0aC5yZXF1aXJlZExlbmd0aCArIFwiIGNoYXJhY3RlcnNcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbC5oYXNFcnJvcihcIm1heGxlbmd0aFwiKSkge1xuICAgICAgICAgICAgICBtc2cgPSBcIlRoaXMgZmllbGQgaGFzIG1heGltdW0gXCIgKyBjb250cm9sLmVycm9ycy5tYXhsZW5ndGgucmVxdWlyZWRMZW5ndGggKyBcIiBjaGFyYWN0ZXJzXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2wuaGFzRXJyb3IoXCJtaW5cIikpIHtcbiAgICAgICAgICAgICAgbXNnID0gXCJUaGlzIGZpZWxkIHJlcXVpcmVkIG1pbmltdW0gdmFsdWUgXCIgKyBjb250cm9sLmVycm9ycy5taW4ubWluO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250cm9sLmhhc0Vycm9yKFwibWF4XCIpKSB7XG4gICAgICAgICAgICAgIG1zZyA9IFwiVGhpcyBmaWVsZCBoYXMgbWF4aW11bSB2YWx1ZSBcIiArIGNvbnRyb2wuZXJyb3JzLm1heC5tYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgZW5hYmxlVW5pdChmaWVsZCwgbXlGb3JtKSB7XG4gICAgICAgICAgICBpZiAobXlGb3JtLmdldChmaWVsZC5uYW1lKS52YWx1ZS5pbiAmJiAoZmllbGQudW5pdHMubGVuZ3RoID4gMSkpIHtcbiAgICAgICAgICAgICAgbXlGb3JtLmdldChmaWVsZC5uYW1lKS5jb250cm9scy51bml0LmVuYWJsZSgpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGZpZWxkLnVuaXRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICBteUZvcm0uZ2V0KGZpZWxkLm5hbWUpLmNvbnRyb2xzLnVuaXQucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBteUZvcm0uZ2V0KGZpZWxkLm5hbWUpLmNvbnRyb2xzLnVuaXQuZGlzYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJ1aWxkRm9ybSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFsbENvbnRyb2wgPSB7fTtcbiAgICAgICAgICAgIGxldCB2YWxpZGF0b3JzID0gW107XG4gICAgICAgICAgICB0aGlzLnNjaGVtYS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyAgQXNzaWduIFZhbGlkYXRvciB0byBhbGwgZm9ybSBDb250cm9sXG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9ycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtZW50LnJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3JzLnB1c2goVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmRhdGFUeXBlID09PSBcIlN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3JzLnB1c2goVmFsaWRhdG9ycy5taW5MZW5ndGgoZWxlbWVudC5taW5MZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcnMucHVzaChWYWxpZGF0b3JzLm1heExlbmd0aChlbGVtZW50Lm1heExlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvcnMucGF0dGVybihlbGVtZW50LnBhdHRlcm4pKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGVtZW50LmRhdGFUeXBlID09PSBcIk51bWJlclwiIHx8IGVsZW1lbnQuZGF0YVR5cGUgPT09IFwiTWVhc3VyZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvcnMubWF4KGVsZW1lbnQubWF4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3JzLnB1c2goVmFsaWRhdG9ycy5taW4oZWxlbWVudC5taW4pKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtZW50LmRhdGFUeXBlID09PSBcIk1lYXN1cmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVuaXR2YWx1ZSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbWVudC51bml0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdHZhbHVlID0gZWxlbWVudC51bml0c1swXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtZW50LnJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcnMgPSBbVmFsaWRhdG9ycy5yZXF1aXJlZCwgVmFsaWRhdG9ycy5taW4oZWxlbWVudC5taW4pLCBWYWxpZGF0b3JzLm1heChlbGVtZW50Lm1heCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvbnRyb2xbZWxlbWVudC5uYW1lXSA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW46IFtcIlwiLCB2YWxpZGF0b3JzXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IFt7IHZhbHVlOiB1bml0dmFsdWUsIGRpc2FibGVkOiB0cnVlIH0sIFZhbGlkYXRvcnMucmVxdWlyZWRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvbnRyb2xbZWxlbWVudC5uYW1lXSA9IFtcIlwiLCB2YWxpZGF0b3JzXTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKGFsbENvbnRyb2wpO1xuICAgICAgICAgIH1cbn1cbiJdfQ==